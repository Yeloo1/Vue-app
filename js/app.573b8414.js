(function(){"use strict";var t={3654:function(t,e,o){var n=o(3751),s=o(641);const a={id:"app"};function r(t,e,o,n,r,i){const l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.bF)(l)])}var i={name:"App"},l=o(6262);const c=(0,l.A)(i,[["render",r]]);var u=c,p=o(5220);const h={class:"signup-container"};function d(t,e,o,a,r,i){return(0,s.uX)(),(0,s.CE)("div",h,[e[7]||(e[7]=(0,s.Lk)("h1",{class:"title"},"Sign up",-1)),(0,s.Lk)("form",{class:"signup-form",onSubmit:e[3]||(e[3]=(0,n.D$)(((...t)=>i.signUp&&i.signUp(...t)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{class:"form-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.email=t),placeholder:"Enter your email",required:""},null,512),[[n.Jo,r.email]]),(0,s.bo)((0,s.Lk)("input",{class:"form-input",type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),placeholder:"Enter your password",required:""},null,512),[[n.Jo,r.password]]),(0,s.bo)((0,s.Lk)("input",{class:"form-input",type:"tel","onUpdate:modelValue":e[2]||(e[2]=t=>r.phoneNumber=t),placeholder:"Enter your phone number",required:""},null,512),[[n.Jo,r.phoneNumber]]),e[5]||(e[5]=(0,s.Lk)("button",{class:"signup-button",type:"submit"}," SIGN UP ",-1))],32),(0,s.Lk)("button",{class:"login-button",onClick:e[4]||(e[4]=(...t)=>i.goToLogin&&i.goToLogin(...t))},e[6]||(e[6]=[(0,s.eW)(" Already have an account? "),(0,s.Lk)("span",{class:"highlight"},"Log In",-1)]))])}o(4114);var m=o(223),f=o(1268),g=o(1884);const y={apiKey:"AIzaSyAu_KmiHAYaWHNoJaohHn23cbK9CeMSLfw",authDomain:"transport-cost-calculato-1294b.firebaseapp.com",databaseURL:"https://transport-cost-calculato-1294b-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"transport-cost-calculato-1294b",storageBucket:"transport-cost-calculato-1294b.firebasestorage.app",messagingSenderId:"535681241490",appId:"1:535681241490:web:a922e43df26059ae00714b",measurementId:"G-FTB6940S28"},k=(0,m.Wp)(y),C=(0,g.aU)(k),b=(0,f.xI)(k);var v=o(4335),L={name:"SignUpForm",data(){return{email:"",password:"",phoneNumber:""}},methods:{async signUp(){try{const t=await(0,f.eJ)(b,this.email,this.password),e=t.user;console.log("User created:",e);const o=await v.A.post("http://localhost:5002/signup",{email:this.email,phoneNumber:this.phoneNumber,userId:e.uid});console.log("Backend response:",o),201===o.status?(alert("Sign-up successful!"),this.$router.push("/login")):alert("Error in saving user data.")}catch(t){console.error("Error during sign-up:",t),alert(`Error: ${t.message}`)}},goToLogin(){this.$router.push("/login")}}};const T=(0,l.A)(L,[["render",d],["__scopeId","data-v-cf9790d6"]]);var F=T;const w={class:"login-container"},E={class:"signup-link"};function M(t,e,o,a,r,i){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",w,[e[6]||(e[6]=(0,s.Lk)("h1",{class:"title"},"Login",-1)),(0,s.Lk)("form",{onSubmit:e[2]||(e[2]=(0,n.D$)(((...t)=>i.login&&i.login(...t)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=t=>r.email=t),placeholder:"Enter your email",required:""},null,512),[[n.Jo,r.email]]),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),placeholder:"Enter your password",required:""},null,512),[[n.Jo,r.password]]),e[3]||(e[3]=(0,s.Lk)("button",{type:"submit"},"Log In",-1))],32),(0,s.Lk)("p",E,[e[5]||(e[5]=(0,s.eW)(" Don't have an account? ")),(0,s.bF)(l,{to:"/signup"},{default:(0,s.k6)((()=>e[4]||(e[4]=[(0,s.eW)("Sign up here")]))),_:1})])])}var x={name:"Login",data(){return{email:"",password:""}},methods:{async login(){try{const t=await(0,f.x9)(b,this.email,this.password),e=t.user,o=await(0,g.x7)((0,g.H9)(C,"users",e.uid));o.exists()?(console.log("User Data:",o.data()),alert("Login successful!"),this.$router.push("/transportation")):alert("No user data found in Firestore.")}catch(t){alert(`Error: ${t.message}`)}}}};const I=(0,l.A)(x,[["render",M],["__scopeId","data-v-4cde440b"]]);var S=I,A=o(33),U=o.p+"img/bus-icon.c75ec839.png",N=o.p+"img/motorcycle-icon.44011cf3.png",O=o.p+"img/taxi-icon.5a594293.png";const _={class:"transportation-choice"},P={class:"choices"},G={key:0},K={key:1},X={key:0},j={key:1},R={key:2};function B(t,e,o,n,a,r){return(0,s.uX)(),(0,s.CE)("div",_,[e[13]||(e[13]=(0,s.Lk)("h2",null,"Select Your Transportation",-1)),(0,s.Lk)("div",P,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=t=>r.selectTransportation("BUS")),class:"transport-button"},e[5]||(e[5]=[(0,s.Lk)("img",{src:U,alt:"Bus",class:"transport-icon"},null,-1),(0,s.Lk)("span",{class:"transport-text"},"BUS",-1)])),(0,s.Lk)("button",{onClick:e[1]||(e[1]=t=>r.selectTransportation("MOTORCYCLE")),class:"transport-button"},e[6]||(e[6]=[(0,s.Lk)("img",{src:N,alt:"Motorcycle",class:"transport-icon"},null,-1),(0,s.Lk)("span",{class:"transport-text"},"MOTORCYCLE",-1)])),(0,s.Lk)("button",{onClick:e[2]||(e[2]=t=>r.selectTransportation("TAXI")),class:"transport-button"},e[7]||(e[7]=[(0,s.Lk)("img",{src:O,alt:"Taxi",class:"transport-icon"},null,-1),(0,s.Lk)("span",{class:"transport-text"},"TAXI",-1)]))]),a.selectedTransportation?((0,s.uX)(),(0,s.CE)("p",G,[e[8]||(e[8]=(0,s.eW)(" You selected: ")),(0,s.Lk)("strong",null,(0,A.v_)(a.selectedTransportation),1)])):(0,s.Q3)("",!0),a.selectedTransportation?((0,s.uX)(),(0,s.CE)("div",K,[(0,s.Lk)("div",null,[e[10]||(e[10]=(0,s.Lk)("h3",null,"Select your route",-1)),e[11]||(e[11]=(0,s.Lk)("p",null,"Click on the map to select your start and end points.",-1)),e[12]||(e[12]=(0,s.Lk)("div",{id:"map",style:{height:"400px"}},null,-1)),a.fromCityName&&a.toCityName?((0,s.uX)(),(0,s.CE)("p",X,"From: "+(0,A.v_)(a.fromCityName)+" to: "+(0,A.v_)(a.toCityName),1)):(0,s.Q3)("",!0),a.fromCityName&&a.toCityName?((0,s.uX)(),(0,s.CE)("p",j,"Distance: "+(0,A.v_)(a.distance)+" km",1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>r.calculateCosts&&r.calculateCosts(...t))},"Calculate Costs"),(0,s.Lk)("button",{onClick:e[4]||(e[4]=(...t)=>r.resetMap&&r.resetMap(...t)),style:{"background-color":"#dc3545","margin-top":"20px"}}," Reset Map "),a.calculatedCosts?((0,s.uX)(),(0,s.CE)("div",R,[e[9]||(e[9]=(0,s.Lk)("h3",null,"Estimated Costs:",-1)),(0,s.Lk)("p",null,"Fuel Cost: ₱"+(0,A.v_)(a.calculatedCosts.fuelCost),1),(0,s.Lk)("p",null,"Transport Fee: ₱"+(0,A.v_)(a.calculatedCosts.transportFee),1),(0,s.Lk)("p",null,"Toll Gate Fee: ₱"+(0,A.v_)(a.calculatedCosts.tollGateFee),1),(0,s.Lk)("p",null,"Total Cost: ₱"+(0,A.v_)(a.calculatedCosts.totalCost),1)])):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)])}o(8992),o(3949),o(1454);var $=o(3481),D=o.n($),V={data(){return{selectedTransportation:null,fromCity:null,toCity:null,fuelPrice:65,fuelEfficiency:4,transportFeePerKm:10,tollGateFee:100,motorcycleFuelEfficiency:25,motorcycleTransportFeePerKm:5,taxiFuelEfficiency:8,taxiTransportFeePerKm:20,taxiTollGateFee:150,calculatedCosts:null,distance:0,map:null,markers:[],startIcon:null,endIcon:null,fromCityName:"",toCityName:""}},methods:{selectTransportation(t){this.selectedTransportation=t,this.calculatedCosts=null,this.distance=0,this.fromCity=null,this.toCity=null,this.markers=[],"MOTORCYCLE"===this.selectedTransportation?(this.fuelEfficiency=this.motorcycleFuelEfficiency,this.transportFeePerKm=this.motorcycleTransportFeePerKm,this.tollGateFee=50):"BUS"===this.selectedTransportation?(this.fuelEfficiency=4,this.transportFeePerKm=10,this.tollGateFee=100):"TAXI"===this.selectedTransportation&&(this.fuelEfficiency=this.taxiFuelEfficiency,this.transportFeePerKm=this.taxiTransportFeePerKm,this.tollGateFee=this.taxiTollGateFee),(0,s.dY)((()=>{this.map&&this.clearMarkers(),this.map||this.initMap()}))},initMap(){const t=document.getElementById("map");t?(this.map=D().map(t).setView([12.8797,121.774],6),D().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.map.setMaxBounds([[4.5,116.5],[21.5,130.5]]),this.map.on("click",this.onMapClick),this.startIcon=D().icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/684/684908.png",iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}),this.endIcon=D().icon({iconUrl:o(9295),iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]})):console.error("Map container not found!")},onMapClick(t){if(this.markers.length>=2)return;const e=t.latlng.lat,o=t.latlng.lng;let n;0===this.markers.length?(n=D().marker([e,o],{icon:this.startIcon}).addTo(this.map),this.fromCity={lat:e,lng:o},this.getAddress(e,o,"from")):(n=D().marker([e,o],{icon:this.endIcon}).addTo(this.map),this.toCity={lat:e,lng:o},this.getAddress(e,o,"to"),this.calculateDistance()),this.markers.push({lat:e,lng:o,marker:n})},async getAddress(t,e,o){const n=`https://nominatim.openstreetmap.org/reverse?lat=${t}&lon=${e}&format=json`;try{const t=await fetch(n),e=await t.json(),s=e.address;"from"===o?this.fromCityName=s.city||s.town||s.village||"Unknown Location":this.toCityName=s.city||s.town||s.village||"Unknown Location"}catch(s){console.error("Error fetching address:",s)}},clearMarkers(){this.markers.forEach((t=>{this.map.removeLayer(t.marker)})),this.markers=[]},resetMap(){this.clearMarkers(),this.fromCity=null,this.toCity=null,this.fromCityName="",this.toCityName="",this.distance=0,this.calculatedCosts=null},calculateDistance(){if(this.fromCity&&this.toCity){const t=this.fromCity.lat,e=this.fromCity.lng,o=this.toCity.lat,n=this.toCity.lng,s=6371,a=this.degreesToRadians(o-t),r=this.degreesToRadians(n-e),i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(this.degreesToRadians(t))*Math.cos(this.degreesToRadians(o))*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));this.distance=s*l}},degreesToRadians(t){return t*(Math.PI/180)},calculateCosts(){if(!this.fromCity||!this.toCity||0===this.distance)return void alert("Please select both the start and end locations.");const t=10,e=this.distance>=t?this.tollGateFee:0,o=this.distance*(this.fuelEfficiency/100)*this.fuelPrice,n=this.distance*this.transportFeePerKm,s=o+n+e;this.calculatedCosts={fuelCost:o.toFixed(2),transportFee:n.toFixed(2),tollGateFee:e.toFixed(2),totalCost:s.toFixed(2)}}}};const q=(0,l.A)(V,[["render",B],["__scopeId","data-v-21fe8e83"]]);var J=q;const Y=[{path:"/",component:S},{path:"/signup",component:F},{path:"/login",component:S},{path:"/transportation",component:J}],W=(0,p.aE)({history:(0,p.LA)("Vue-app/"),routes:Y});var Q=W;(0,n.Ef)(u).use(Q).mount("#app")},9295:function(t,e,o){t.exports=o.p+"img/location-pin.eb3a42d9.png"}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,a){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],a=t[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(i=!1,a<r&&(r=a));if(i){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,s,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="Vue-app/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,a,r=n[0],i=n[1],l=n[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var u=l(o)}for(e&&e(n);c<r.length;c++)a=r[c],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(u)},n=self["webpackChunkloginform"]=self["webpackChunkloginform"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(3654)}));n=o.O(n)})();
//# sourceMappingURL=app.573b8414.js.map